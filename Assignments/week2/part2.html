<!doctype html>
<html>
<head>
</head>
<body onload="do_game()">
  <script>
    function do_game() {
      var colors = ["azure", "black", "gold", "navy", "purple", "red", "teal",
        "violet", "wheat", "yellow"];
      var target = Math.floor(Math.random() * colors.length);
      var count = 0;
      var finished = false;
      while (!finished) {
        var guess = prompt("I am thinking of one of these colors\n\n" + colors
          + "\n\nTarget: (" + colors[target] + ")");
        count++;
        if (check_guess(guess, target, colors)) {
          alert("Congratulations! You have guessed the color!\n\n"
            + "It took you " + count + " guesses to finish the game!\n\n"
            + "You can see the colour in the background.");
          var myBody = document.getElementsByTagName("body")[0];
          myBody.style.background = colors[target];
          finished = true;
        }
      }
    }

    function check_guess(guess, target, colors) {
      if (guess == colors[target]) {
        return true;
      } else if ((index = colors.indexOf(guess)) != -1) {
        if (index > target) {
          alert("Sorry, your guess is not correct!\n\n"
            + "Hint: your color is alphabetically higher than mine.\n\n"
            + "Please try again.");
          return false;
        } else if (index < target) {
          alert("Sorry, your guess is not correct!\n\n"
            + "Hint: your color is alphabetically lower than mine.\n\n"
            + "Please try again.");
          return false;
        }
      } else if (index == -1) {
        alert("Sorry, I don't recognize your color!\n\n"
          + "Please try again.\n\n");
        return false;
      }
    }
  </script>
</body>
</html>
